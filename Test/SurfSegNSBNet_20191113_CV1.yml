network: SurfSegNSBNet
# based on pretrained Unet, train Unet + SurfSegNSB modules together with standard groud truth, with L1 Loss;
# it is better to run 100 epoch, after it, loss is possible to diverge.

unary_network: 
  depth: 5
  start_filters: 8
  up_mode: "bilinear"
  resume_path: ""
pair_network:
  depth: 5
  start_filters: 8
  up_mode: "bilinear"
  col_len: 496
  fc_inter: 128
  left_nbs: 50
  resume_path: ""
  window_size: 11
surf_net:
  unary_pretrain_path: "/home/hxie1/data/OCT_Beijing/netParameters/Unet20191113/CV1/model_best.pth.tar"
  unary_network: UNet
  pair_pretrain_path: ""
  resume_path: "/home/hxie1/data/OCT_Beijing/netParameters/SurfNSBNet2019113/CV1/model_best.pth.tar"
surf: [1]
learning: 
  checkpoint_path: "/home/hxie1/data/OCT_Beijing/netParameters/SurfNSBNet2019113/CV1"
  resume_path: ""
  loss: L1Loss
  best_loss: 99999
  batch_size: 48
  optimizer: Adam
  lr: 0.0001
  epoch_start: 0
  total_iterations: 40000
  augmentation: [
                "saltpepper", 
                "Gaussian",
                "cropresize", 
                "circulateud",
                "mirrorlr"
                ]
  data:
    tr_img: "/home/hxie1/data/OCT_Beijing/numpy/training/images_CV1.npy"
    val_img: ""
    tr_gt: "/home/hxie1/data/OCT_Beijing/numpy/training/surfaces_CV1.npy"
    val_gt: ""
    tr_ratio: 1.
test:
  mode: True
  data:
    img: "/home/hxie1/data/OCT_Beijing/numpy/test/images_CV1.npy"
    gt: "/home/hxie1/data/OCT_Beijing/numpy/test/surfaces_CV1.npy"
  resume_path: ""
  loss: L1Loss
  batch_size: 1
  pred_dir: "/home/hxie1/data/OCT_Beijing/netParameters/SurfNSBNet2019113/CV1/predict"
  # referenced xml seg file directory
  refXML_dir: "/home/hxie1/data/OCT_Beijing/Correcting_Seg"
